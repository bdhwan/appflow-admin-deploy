(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{LRkE:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),i=u("mrSG"),e=u("F5nt"),o=u("AytR"),p=function(){function l(l,n){this.app=l,this.route=n,this.readyToRender=!1,this.apps=[],this.build_history=[],this.config={},this.meta_data={},this.selected_apps_idx=this.route.snapshot.params.apps_idx,console.log("this.selected_apps_idx ="+this.selected_apps_idx),this.config=o.a,this.api_server=this.app.getValue("api_server")}return l.prototype.clickLogout=function(){confirm("logout?")&&(this.app.removeValue("user_id"),this.app.goReplace("login"))},l.prototype.ngOnInit=function(){this.app.getValue("user_id")?this.refreshData():this.app.goReplace("login")},l.prototype.clickBuild=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(l){switch(l.label){case 0:return[4,this.app.service.trigger_app_build(this.selected_apps_idx)];case 1:return l.sent(),this.refreshData(),[2]}})})},l.prototype.clickApp=function(l){return i.b(this,void 0,void 0,function(){return i.e(this,function(n){return this.selected_app=l,this.selected_apps_idx=l.apps_idx,this.app.go("main/"+this.selected_apps_idx),[2]})})},l.prototype.refreshData=function(){return i.b(this,void 0,void 0,function(){var l,n;return i.e(this,function(u){switch(u.label){case 0:return this.readyToRender=!1,l=this,[4,this.app.service.select_meta_data()];case 1:return l.meta_data=u.sent(),[4,this.app.service.select_apps()];case 2:return(n=u.sent()).items&&(this.apps=n.items),console.log("apps =",this.apps),this.selected_apps_idx?[3,3]:(this.apps.length>0&&this.clickApp(this.apps[0]),[3,5]);case 3:return this.selected_app=this.findItem(this.selected_apps_idx),console.log("selected app = ",this.selected_app),this.clickApp(this.selected_app),[4,this.refreshBuildList()];case 4:u.sent(),u.label=5;case 5:return this.readyToRender=!0,[2]}})})},l.prototype.findItem=function(l){for(var n=0;n<this.apps.length;n++)if(Number(l)===Number(this.apps[n].apps_idx))return this.apps[n]},l.prototype.refreshBuildList=function(){return i.b(this,void 0,void 0,function(){var l;return i.e(this,function(n){switch(n.label){case 0:return this.build_history=[],this.selected_app?[4,this.app.service.find_build_list(this.selected_apps_idx,0,1e3)]:[3,2];case 1:(l=n.sent()).items&&(this.build_history=l.items),console.log("this.build_history =",this.build_history),n.label=2;case 2:return[2]}})})},l.prototype.clickEnable=function(l){return i.b(this,void 0,void 0,function(){return i.e(this,function(n){switch(n.label){case 0:return[4,this.app.service.update_current_app_version(l)];case 1:return n.sent(),this.refreshData(),[2]}})})},l}(),s=function(){return function(){}}(),c=u("pMnS"),r=u("oBZk"),a=u("ZZ/e"),b=u("Ip0R"),d=u("ZYCi"),h=t.mb({encapsulation:0,styles:[[""]],data:{}});function _(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,3,"div",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.clickApp(l.context.$implicit)&&t),t},null,null)),(l()(),t.ob(1,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Bb(3,null,[""," - "," (",")"]))],null,function(l,n){l(n,3,0,n.context.$implicit.apps_idx,n.context.$implicit.app_id,n.context.$implicit.channel_name)})}function f(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Bb(1,null,["git_user_id: ",""]))],null,function(l,n){l(n,1,0,n.component.selected_app.git_user_id)})}function v(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,3,"h6",[],null,null,null,null,null)),(l()(),t.Bb(-1,null,["git_user_pw: "])),(l()(),t.ob(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Bb(-1,null,["***"]))],null,null)}function g(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.Bb(2,null,[" ID: ",", stauts:",", enabled: ",""])),(l()(),t.ob(3,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Bb(4,null,[" log:"," "])),(l()(),t.ob(5,0,null,null,2,"ion-button",[],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.clickEnable(l.context.$implicit.apps_version_idx)&&t),t},r.k,r.b)),t.nb(6,49152,null,0,a.j,[t.h,t.k],null,null),(l()(),t.Bb(-1,0,["\ud65c\uc131\ud654"]))],null,function(l,n){l(n,2,0,n.context.$implicit.build_history_idx,n.context.$implicit.status,n.context.$implicit.enabled),l(n,4,0,n.context.$implicit.log),l(n,5,0,!n.context.$implicit.apps_version_idx)})}function m(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,32,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.Bb(2,null,["",""])),(l()(),t.ob(3,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.app.go("new-app/"+i.selected_apps_idx)&&t),t},r.k,r.b)),t.nb(4,49152,null,0,a.j,[t.h,t.k],null,null),(l()(),t.Bb(-1,0,["Edit"])),(l()(),t.ob(6,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.ob(7,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Bb(8,null,["git_url: ",""])),(l()(),t.fb(16777216,null,null,1,null,f)),t.nb(10,16384,null,0,b.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,v)),t.nb(12,16384,null,0,b.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.ob(13,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t.ob(14,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Bb(-1,null,["\uc124\uc815"])),(l()(),t.ob(16,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Bb(-1,null,["Ionic"])),(l()(),t.ob(18,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Bb(19,null,['ionic cordova plugin add cordova-plugin-ionic --save --variable APP_ID="','" --variable CHANNEL_NAME="','" --variable UPDATE_METHOD="auto" --variable MAX_STORE="3" --variable UPDATE_API="','"'])),(l()(),t.ob(20,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Bb(-1,null,["Webhook"])),(l()(),t.ob(22,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Bb(23,null,["","/apps/trigger_app_build/",""])),(l()(),t.ob(24,0,null,null,0,"div",[],null,null,null,null,null)),(l()(),t.ob(25,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.Bb(-1,null,["Build history"])),(l()(),t.ob(27,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.ob(28,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.clickBuild()&&t),t},r.k,r.b)),t.nb(29,49152,null,0,a.j,[t.h,t.k],null,null),(l()(),t.Bb(-1,0,["Build"])),(l()(),t.fb(16777216,null,null,1,null,g)),t.nb(32,278528,null,0,b.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,10,0,u.selected_app.git_user_id),l(n,12,0,u.selected_app.git_user_pw),l(n,32,0,u.build_history)},function(l,n){var u=n.component;l(n,2,0,u.selected_app.app_id),l(n,8,0,u.selected_app.git_url),l(n,19,0,u.selected_app.app_id,u.selected_app.channel_name,u.selected_app.endpoint),l(n,23,0,u.meta_data.build_server_url,u.selected_apps_idx)})}function k(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,15,null,null,null,null,null,null,null)),(l()(),t.ob(1,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.clickLogout()&&t),t},r.k,r.b)),t.nb(3,49152,null,0,a.j,[t.h,t.k],null,null),(l()(),t.Bb(-1,0,["Logout"])),(l()(),t.ob(5,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.Bb(6,null,["Apps ",""])),(l()(),t.ob(7,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.ob(8,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.app.go("new-app")&&t),t},r.k,r.b)),t.nb(9,49152,null,0,a.j,[t.h,t.k],null,null),(l()(),t.Bb(-1,0,["New App"])),(l()(),t.ob(11,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,_)),t.nb(13,278528,null,0,b.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.fb(16777216,null,null,1,null,m)),t.nb(15,16384,null,0,b.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(0,null,null,0))],function(l,n){var u=n.component;l(n,13,0,u.apps),l(n,15,0,u.selected_app)},function(l,n){l(n,6,0,n.component.api_server)})}function x(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,6,"ion-header",[],null,null,null,r.m,r.d)),t.nb(1,49152,null,0,a.A,[t.h,t.k],null,null),(l()(),t.ob(2,0,null,0,4,"ion-toolbar",[],null,null,null,r.r,r.i)),t.nb(3,49152,null,0,a.Ab,[t.h,t.k],null,null),(l()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,r.q,r.h)),t.nb(5,49152,null,0,a.yb,[t.h,t.k],null,null),(l()(),t.Bb(-1,0,["Appflow"])),(l()(),t.ob(7,0,null,null,3,"ion-content",[["padding",""]],null,null,null,r.l,r.c)),t.nb(8,49152,null,0,a.t,[t.h,t.k],null,null),(l()(),t.fb(16777216,null,0,1,null,k)),t.nb(10,16384,null,0,b.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,10,0,n.component.readyToRender)},null)}function B(l){return t.Cb(0,[(l()(),t.ob(0,0,null,null,1,"app-main",[],null,null,null,x,h)),t.nb(1,114688,null,0,p,[e.a,d.a],null,null)],function(l,n){l(n,1,0)},null)}var y=t.kb("app-main",p,B,{},{},[]),I=u("gIcY");u.d(n,"MainPageModuleNgFactory",function(){return A});var A=t.lb(s,[],function(l){return t.ub([t.vb(512,t.j,t.ab,[[8,[c.a,y]],[3,t.j],t.x]),t.vb(4608,b.k,b.j,[t.u,[2,b.q]]),t.vb(4608,I.p,I.p,[]),t.vb(4608,a.c,a.c,[t.z,t.g]),t.vb(4608,a.Fb,a.Fb,[a.c,t.j,t.q,b.c]),t.vb(4608,a.Ib,a.Ib,[a.c,t.j,t.q,b.c]),t.vb(1073742336,b.b,b.b,[]),t.vb(1073742336,I.n,I.n,[]),t.vb(1073742336,I.g,I.g,[]),t.vb(1073742336,a.Cb,a.Cb,[]),t.vb(1073742336,d.n,d.n,[[2,d.t],[2,d.m]]),t.vb(1073742336,s,s,[]),t.vb(1024,d.k,function(){return[[{path:"",component:p}]]},[])])})}}]);